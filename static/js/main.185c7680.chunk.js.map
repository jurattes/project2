{"version":3,"sources":["ForumComponents/Header.js","asset/up.png","asset/down.png","asset/trash.png","ForumComponents/Post.js","ForumComponents/LeftComponent.js","useFetchdata.js","ForumComponents/RightComponent.js","ForumComponents/Main.js","ForumComponents/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","onChange","search","value","keyWord","className","placeholder","Post","post","author","date","text","likes","onClick","like","topic_id","width","height","src","up","alt","dislike","down","delete","trash","LeftComponent","useState","load","setLoad","categories","setCategories","topics","setTopics","id","selectedCategory","setSelectedCategory","selectedTopic","setSelectedTopic","posts","setPosts","useEffect","list","data","concat","apply","map","c","topicList","t","listPosts","filter","item","toLowerCase","includes","console","log","findPost","forum","cat_id","post_id","Number","handleDislike","split","cat","topic","target","slice","Math","max","setForumData","handleLike","handleDelete","newPosts","htmlFor","e","name","topic_title","p","i","useFetchData","url","setData","fetch","then","response","json","catch","RankedTopicsTable","sort","a","b","nberPost","status","RecentPostsTable","difference","Date","getTime","rate","ceil","StatsPostsTable","users","setUsers","user_id","nberPosts","TableWarpper","style","background","color","margin","padding","title","children","RightComponent","Main","Footer","App","forumData","usersData","setKeyWord","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.185c7680.chunk.js","sourcesContent":["\r\n\r\nconst Header = (props) => {\r\n    return <header>\r\n        <h2>Forum</h2>\r\n        <input onChange={props.search} value={props.keyWord} className=\"search-bar\" placeholder=\"Search posts\"></input>\r\n    </header>\r\n}\r\n\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/up.60d1c8f4.png\";","export default __webpack_public_path__ + \"static/media/down.dbcd80a4.png\";","export default __webpack_public_path__ + \"static/media/trash.f1489615.png\";","import up from '../asset/up.png'\r\nimport down from '../asset/down.png'\r\nimport trash from '../asset/trash.png'\r\nconst Post = (props) => {\r\n    return <section className=\"post\">\r\n        <div className=\"row1\">\r\n            <div className=\"header\">By {props.post.author} {props.post.date}</div>\r\n            <div className=\"content\">{props.post.text}</div>\r\n            <div className=\"footer\">Likes: {props.post.likes}</div>\r\n        </div>\r\n        {/* <hr /> */}\r\n        <div className=\"row2\">\r\n            <div onClick={() => props.like(props.post.topic_id)}><img width=\"30\" height=\"30\" src={up} alt=\"up\" /></div>\r\n            <div onClick={() => props.dislike(props.post.topic_id)}><img width=\"30\" height=\"30\" src={down} alt=\"down\" /></div>\r\n            <div onClick={() => props.delete(props.post.topic_id)}><img width=\"30\" height=\"30\" src={trash} alt=\"trash\" /></div>\r\n        </div>\r\n    </section>\r\n}\r\n\r\nexport default Post;","import { useEffect, useState } from \"react\";\r\nimport Post from \"./Post\";\r\n\r\nconst LeftComponent = (props) => {\r\n    const [load, setLoad] = useState(true)\r\n    const [categories, setCategories] = useState([]);\r\n    const [topics, setTopics] = useState([]);\r\n    const [selectedCategory, setSelectedCategory] = useState({ id: 1 });\r\n    const [selectedTopic, setSelectedTopic] = useState({ id: 1 });\r\n    const [posts, setPosts] = useState([])\r\n\r\n\r\n    useEffect(() => {\r\n        let list = []\r\n        if (props.data.categories)\r\n            list = [].concat.apply([], ([].concat.apply([], props.data.categories.map((c) => c.topicList))).map((t) => t.listPosts))\r\n        list = list.filter(item => item.text.toLowerCase().includes(props.keyWord.toLowerCase()))\r\n        console.log(props.keyWord)\r\n        console.log(list)\r\n        setPosts(list)\r\n    }, [props.keyWord])\r\n\r\n    useEffect(() => {\r\n        if (props.data.categories && load) {\r\n            setLoad(false)\r\n            setCategories(props.data.categories)\r\n            setSelectedCategory(props.data.categories[0])\r\n            setTopics(props.data.categories[0].topicList)\r\n            setPosts(props.data.categories[0].topicList[0].listPosts)\r\n        }\r\n    }, [props.data])\r\n\r\n\r\n    const handleSelectCategory = (e) => {\r\n        const { value } = e.target\r\n        const cat = categories.filter((c) => c.id == value)[0]\r\n        setSelectedCategory(cat)\r\n\r\n        if (selectedCategory != '0') {\r\n            setTopics(cat.topicList)\r\n            setSelectedTopic(cat.topicList[0])\r\n            setPosts(cat.topicList[0].listPosts)\r\n        } else {\r\n            setSelectedTopic(null)\r\n        }\r\n\r\n    }\r\n\r\n    const handleSelecteTopic = (e) => {\r\n        const { value } = e.target\r\n        const topic = selectedCategory.topicList.filter((t) => t.id == value)[0]\r\n        setSelectedTopic(topic)\r\n        setPosts(topic.listPosts)\r\n    }\r\n\r\n    const findPost = (forum, cat_id, topic_id, post_id) => {\r\n        const category = forum.categories.filter(c => c.id === Number(cat_id))[0]\r\n        const topic = category.topicList.filter(c => c.id === Number(topic_id))[0]\r\n        const post = topic.listPosts.filter(c => c.id === Number(post_id))[0]\r\n        return post;\r\n    }\r\n\r\n    const handleDislike = (topic_id) => {\r\n        const [cat, topic, post] = topic_id.split('_')\r\n        const forum = { ...props.data }\r\n        const target = findPost(forum, cat.slice(-1), topic.slice(-1), post.slice(-1))\r\n        if (target.likes)\r\n            target.likes--\r\n        else {\r\n            target.likes = 0\r\n        }\r\n        target.likes = Math.max(target.likes, 0)\r\n        props.setForumData(forum)\r\n    }\r\n\r\n    const handleLike = (topic_id) => {\r\n        const [cat, topic, post] = topic_id.split('_')\r\n        const forum = { ...props.data }\r\n        const target = findPost(forum, cat.slice(-1), topic.slice(-1), post.slice(-1))\r\n        if (target.likes)\r\n            target.likes++\r\n        else {\r\n            target.likes = 1\r\n        }\r\n        props.setForumData(forum)\r\n    }\r\n\r\n    const handleDelete = (topic_id) => {\r\n        const [cat, topic, post] = topic_id.split('_')\r\n        const forum = { ...props.data }\r\n        const category = forum.categories.filter(c => c.id === Number(cat.slice(-1)))[0]\r\n        const t = category.topicList.filter(c => c.id === Number(topic.slice(-1)))[0]\r\n        t.listPosts = t.listPosts.filter(c => c.id !== Number(post.slice(-1)))\r\n        props.setForumData(forum)\r\n        const newPosts = posts.filter(c => c.topic_id !== topic_id)\r\n        setPosts(newPosts)\r\n    }\r\n\r\n\r\n    return <section className=\"left-col\">\r\n        <section className=\"filter\">\r\n            <section>\r\n                <label htmlFor=\"category\">Category </label>\r\n                <select id=\"category\" value={selectedCategory.id} onChange={handleSelectCategory}>\r\n                    {categories.map((c) => <option key={'cat' + c.id} value={c.id}>{c.name}</option>)}\r\n                </select>\r\n            </section>\r\n\r\n            <section>\r\n                <label htmlFor=\"topic\">Topic </label>\r\n                <select id=\"topic\" value={selectedTopic.id} onChange={handleSelecteTopic}>\r\n                    {topics.map((t) => <option key={'top' + t.id} value={t.id}>{t.topic_title}</option>)}\r\n                </select>\r\n            </section>\r\n        </section>\r\n        <section className=\"posts\">\r\n            {posts.map((p, i) => <div key={'post' + p.id + i}>\r\n                <Post post={p} like={handleLike} dislike={handleDislike} delete={handleDelete} />\r\n            </div>)}\r\n        </section>\r\n    </section>\r\n}\r\n\r\nexport default LeftComponent;","\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction useFetchData(url) {\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(url).then(response => response.json())\r\n            .then((data) => {\r\n                setData(data);\r\n            }).catch(e => console.log(e))\r\n    }, [])\r\n\r\n    return [data, setData]\r\n}\r\n\r\nexport default useFetchData;","import { useEffect, useState } from \"react\";\r\nimport useFetchData from \"../useFetchdata\";\r\n\r\nconst RankedTopicsTable = (props) => {\r\n    const [topics, setTopics] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (props.data.categories) {\r\n            const list = [].concat.apply([], props.data.categories.map((c) => c.topicList))\r\n            console.log(list)\r\n            list.sort((a, b) => b.nberPost - a.nberPost)\r\n            setTopics(list)\r\n        }\r\n\r\n    }, [props.data])\r\n\r\n    return <table>\r\n        <thead>\r\n            <tr>\r\n                <th>title</th>\r\n                <th>post_nb</th>\r\n                <th>stat</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {topics.map(item => <tr>\r\n                <td>\r\n                    {item.topic_title}\r\n                </td>\r\n                <td>\r\n                    {item.nberPost}\r\n                </td>\r\n                <td>\r\n                    {item.status}\r\n                </td>\r\n            </tr>)}\r\n        </tbody>\r\n    </table>\r\n}\r\n\r\nconst RecentPostsTable = (props) => {\r\n    const [posts, setPosts] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (props.data.categories) {\r\n            let list = [].concat.apply([], ([].concat.apply([], props.data.categories.map((c) => c.topicList))).map((t) => t.listPosts))\r\n            list = list.map((p) => {\r\n                // To calculate the no. of days between two dates\r\n                const difference = (new Date().getTime() - new Date(p.date).getTime()) / (1000 * 3600 * 24);\r\n                return {\r\n                    author: p.author,\r\n                    rate: p.rate,\r\n                    date: Math.ceil(difference)\r\n                }\r\n            })\r\n            console.log(list)\r\n            setPosts(list)\r\n            setPosts(list.sort((a, b) => a.date > b.date ? 1 : -1))\r\n        }\r\n\r\n    }, [props.data])\r\n\r\n    return <table>\r\n        <thead>\r\n            <tr>\r\n                <th>author</th>\r\n                <th>rank</th>\r\n                <th>when</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {posts.map(item => <tr>\r\n                <td>\r\n                    {item.author}\r\n                </td>\r\n                <td>\r\n                    {item.rate}\r\n                </td>\r\n                <td>\r\n                    {item.date} days ago\r\n                </td>\r\n            </tr>)}\r\n        </tbody>\r\n    </table>\r\n}\r\n\r\nconst StatsPostsTable = (props) => {\r\n    const [users, setUsers] = useState([])\r\n    useEffect(() => {\r\n        if (props.data.users)\r\n            setUsers(props.data.users)\r\n    }, [props.data])\r\n    return <table>\r\n        <tbody>\r\n            {users.map(item => <tr>\r\n                <td>\r\n                    {item.user_id}\r\n                </td>\r\n                <td>\r\n                    {item.nberPosts}\r\n                </td>\r\n            </tr>)}\r\n        </tbody>\r\n    </table>\r\n}\r\n\r\nconst TableWarpper = (props) => {\r\n    return <div style={{\r\n        background: props.color,\r\n        // color:'white',\r\n        margin: '10px 0px',\r\n        padding: '5px',\r\n    }}>\r\n        <h3 className=\"title\" >{props.title}</h3>\r\n        <div className=\"table-warpper\">\r\n            {props.children}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst RightComponent = (props) => {\r\n    const [data] = useFetchData('forum.json')\r\n    const [users] = useFetchData('users.json')\r\n\r\n\r\n    return <section className=\"right-col\">\r\n        <TableWarpper title={'Ranked Topics'} color=\"#403131\">\r\n            <RankedTopicsTable data={data} />\r\n        </TableWarpper>\r\n        <TableWarpper title={'Recent Posts'} color=\"#241f30\">\r\n            <RecentPostsTable data={data} />\r\n        </TableWarpper>\r\n        <TableWarpper title={'Stats Posts'} color=\"#283630\">\r\n            <StatsPostsTable data={users} />\r\n        </TableWarpper>\r\n    </section>\r\n}\r\n\r\nexport default RightComponent;","import LeftComponent from \"./LeftComponent\";\r\nimport RightComponent from \"./RightComponent\";\r\n\r\n\r\nconst Main = (props) => {\r\n    return <main>\r\n        <LeftComponent {...props} />\r\n        <RightComponent {...props} />\r\n    </main>\r\n}\r\n\r\n\r\nexport default Main;","\r\n\r\nconst Footer = () => {\r\n    return <footer>\r\n        Natalie Chen (1934345), Justin Pescador (1835377), Mikito Takata (2036737)\r\n    </footer>\r\n}\r\n\r\n\r\nexport default Footer;","import './App.css';\r\nimport Header from './ForumComponents/Header';\r\nimport Main from './ForumComponents/Main';\r\nimport Footer from './ForumComponents/Footer';\r\nimport useFetchData from './useFetchdata';\r\nimport { useState } from \"react\";\r\n\r\nfunction App() {\r\n\r\n  const [forumData, setForumData] = useFetchData('forum.json')\r\n  const [usersData] = useFetchData('users.json')\r\n  const [keyWord, setKeyWord] = useState('')\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header search={(e)=>setKeyWord(e.target.value)} keyWord={keyWord} />\r\n      <Main\r\n        keyWord={keyWord}\r\n        data={forumData}\r\n        users={usersData}\r\n        setForumData={setForumData} />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}